<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Inventario | AutoGesti√≥nTech</title>
  <!-- Aseg√∫rate de apuntar a la clase de vendedor para el dise√±o -->
  <link rel="stylesheet" href="../CSS/vendedor.css">
</head>
<body>
  <!-- Barra superior -->
  <div class="top-bar">
    <div class="menu-toggle" onclick="toggleSidebar()">‚ò∞</div>
    <div class="centered-title">AutoGesti√≥nTech</div>
  </div>

  <!-- Men√∫ lateral -->
  <div class="sidebar" id="sidebar">
    <div id="menu-buttons"></div>
    <button onclick="cerrarSesion()">‚ùå Cerrar sesi√≥n</button>
  </div>

  <!-- Contenido principal -->
  <div class="content">
    <h2>üì¶ Inventario de Productos</h2>
    <table id="tabla-inventario">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Categor√≠a</th>
          <th>Marca</th>
          <th>Precio (Q)</th>
          <th>Stock</th>
        </tr>
      </thead>
      <tbody>
        <!-- Los productos se llenan din√°micamente -->
      </tbody>
    </table>
  </div>

  <!-- Firebase y tu script para cargar inventario -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="../JS/firebaseConfig.js"></script>
  <script src="../JS/inventario.js"></script>

  <script>
    // Men√∫ lateral igual que el dashboard, pero ajusta rutas para vendedor
    const params = new URLSearchParams(window.location.search);
    const rol = params.get('rol') || "vendedor";
    const menus = {
      vendedor: [
        { text: "üí∏ Registrar venta", href: "../Dashboard-Roles/HTML/registrarVenta.html" },
        { text: "üì¶ Consultar stock", href: "../Dashboard-Roles/HTML/inventario.html" }
      ]
    };
    const menu = document.getElementById("menu-buttons");
    if (menus[rol]) {
      menus[rol].forEach(item => {
        const btn = document.createElement("button");
        btn.innerText = item.text;
        btn.onclick = () => window.location.href = item.href;
        menu.appendChild(btn);
      });
    }
    function cerrarSesion() {
      firebase.auth().signOut()
        .then(() => window.location.href = "../../HTML/login.html")
        .catch(() => window.location.href = "../../HTML/login.html");
    }
    function toggleSidebar() {
      document.querySelector(".sidebar").classList.toggle("hidden");
      document.body.classList.toggle("collapsed");
    }
  </script>
</body>
</html>
